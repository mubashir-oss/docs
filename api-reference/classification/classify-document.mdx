---
title: "Classify Document"
openapi: "/api-reference/openapi.json POST /classify"
description: "Classify PDF documents into predefined categories with confidence scoring using job-based processing"
---

## Overview

The Classify Document endpoint analyzes PDF documents and assigns them to predefined categories based on their content, structure, and visual characteristics. This endpoint uses job-based processing where files are uploaded to cloud storage and processed asynchronously.

<Note>
The endpoint supports both single-page and multi-page classification with detailed confidence scoring for each page. Files are uploaded to Supabase storage and processed in the background.
</Note>

## Request

<ParamField body="pdf_file" type="file" required>
  The PDF file to classify. Maximum file size: 50MB
</ParamField>

<ParamField body="categories" type="string" required>
  JSON string containing array of category objects with name and optional description (e.g., `[{"name":"invoice","description":"Financial invoices"}]`)
</ParamField>

## Response

<ResponseField name="job_id" type="string">
  Unique identifier for the classification job
</ResponseField>

<ResponseField name="status" type="string">
  Current status of the job ("processing")
</ResponseField>

<ResponseField name="message" type="string">
  Human-readable status message
</ResponseField>

<ResponseField name="quota_remaining" type="number">
  Remaining API quota after this request
</ResponseField>

## Examples

<RequestExample>

```bash cURL
curl -X POST "https://prod.visionapi.unsiloed.ai/classify" \
  -H "api-key: your-api-key" \
  -F "pdf_file=@document.pdf" \
  -F 'categories=[{"name":"invoice","description":"Financial invoices"},{"name":"contract","description":"Legal contracts"},{"name":"receipt"}]'
```

```python Python
import requests
import json

url = "https://prod.visionapi.unsiloed.ai/classify"
headers = {"api-key": "your-api-key"}

categories = [
    {"name": "invoice", "description": "Financial invoices"},
    {"name": "contract", "description": "Legal contracts"},
    {"name": "receipt"}
]

files = {"pdf_file": ("document.pdf", open("document.pdf", "rb"), "application/pdf")}
data = {"categories": json.dumps(categories)}

response = requests.post(url, headers=headers, files=files, data=data)

if response.status_code == 202:
    result = response.json()
    print(f"Job ID: {result['job_id']}")
    print(f"Status: {result['status']}")
    print(f"Quota Remaining: {result['quota_remaining']}")
else:
    print("Error:", response.status_code, response.text)
```

```javascript JavaScript
const formData = new FormData();
formData.append('pdf_file', fileInput.files[0]);

const categories = [
  {name: 'invoice', description: 'Financial invoices'},
  {name: 'contract', description: 'Legal contracts'},
  {name: 'receipt'}
];
formData.append('categories', JSON.stringify(categories));

const response = await fetch('https://prod.visionapi.unsiloed.ai/classify', {
  method: 'POST',
  headers: {
    'api-key': 'your-api-key'
  },
  body: formData
});

if (response.status === 202) {
  const result = await response.json();
  console.log('Job ID:', result.job_id);
  console.log('Status:', result.status);
  console.log('Quota Remaining:', result.quota_remaining);
} else {
  console.error('Error:', response.status, await response.text());
}
```

</RequestExample>

<ResponseExample>

```json 202 - Success
{
  "job_id": "7e10f5cd-6d83-4b8e-9f80-ac103fd9b2f1",
  "status": "processing",
  "message": "Classification started",
  "quota_remaining": 450
}
```

```json 400 - Bad Request
{
  "detail": "Either pdf_file or file_url must be provided"
}
```

```json 402 - Payment Required
{
  "detail": {
    "message": "Insufficient quota",
    "status": "QUOTA_EXCEEDED",
    "quota_data": {
      "current": 1000,
      "limit": 1000,
      "remaining": 0
    }
  }
}
```

</ResponseExample>

## Job Status Checking

After starting a classification job, you can check its status using the job ID by making a GET request to `/classify/{job_id}`.

## Job Status Values

- **`processing`**: Job is currently being processed
- **`completed`**: Job completed successfully with results available
- **`failed`**: Job failed with error details
