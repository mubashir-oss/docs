---
title: "Extraction"
description: "Advanced PDF processing and data extraction using Vision API"
---

## Overview

This API provides powerful document processing capabilities using Vision models to extract structured data from PDF documents. It combines computer vision with natural language processing to understand document layouts, identify key information, and extract data according to custom JSON schemas.

## Key Features

<CardGroup cols={2}>
  <Card title="Structured Data Extraction" icon="database">
    Extract specific fields and data points from documents using custom JSON schemas
  </Card>
  <Card title="Bounding Box Detection" icon="square-dashed">
    Identify and locate visual elements with precise coordinate information
  </Card>
  <Card title="Multi-format Support" icon="file-pdf">
    Process PDF documents with high-quality image rendering and OCR capabilities
  </Card>
  <Card title="Async Processing" icon="clock">
    Handle large documents with background processing and job management
  </Card>
</CardGroup>

## JSON Schema Format

All extraction schemas must follow the JSON Schema specification:

- `type`: "object" (root level)
- `properties`: Object defining the fields to extract
- `required`: Array of required field names
- `additionalProperties`: Set to `false` for strict validation

## Basic Usage

### Simple Data Extraction

<CodeGroup>

```python Python
from unsiloed_sdk import UnsiloedClient

# Define extraction schema using JSON Schema format
schema = {
    "type": "object",
    "properties": {
        "title": {
            "type": "string",
            "description": "Document title"
        },
        "date": {
            "type": "string",
            "description": "Document date"
        }
    },
    "required": ["title", "date"],
    "additionalProperties": False
}

with UnsiloedClient(api_key="your-api-key") as client:
    # Extract and wait for completion
    result = client.extract_and_wait(
        file="document.pdf",
        schema=schema
    )

    # Access extracted data with confidence scores
    print(f"Title: {result.result['title']['value']}")
    print(f"Confidence: {result.result['title']['score']:.2%}")
```

```javascript JavaScript
const { UnsiloedClient } = require('unsiloed-sdk');

const client = new UnsiloedClient({ apiKey: 'your-api-key' });

// Define extraction schema using JSON Schema format
const schema = {
  type: 'object',
  properties: {
    title: {
      type: 'string',
      description: 'Document title'
    },
    date: {
      type: 'string',
      description: 'Document date'
    }
  },
  required: ['title', 'date'],
  additionalProperties: false
};

// Make the extraction request
const result = await client.extract({
  file: 'document.pdf',
  schema: schema
});

console.log(`Job ID: ${result.job_id}`);
```

```typescript TypeScript
import { UnsiloedClient } from 'unsiloed-sdk';

const client = new UnsiloedClient({ apiKey: 'your-api-key' });

// Define extraction schema using JSON Schema format
const schema = {
  type: 'object',
  properties: {
    title: {
      type: 'string',
      description: 'Document title'
    },
    date: {
      type: 'string',
      description: 'Document date'
    }
  },
  required: ['title', 'date'],
  additionalProperties: false
} as const;

// Make the extraction request
const result = await client.extract({
  file: 'document.pdf',
  schema: schema
});

console.log(`Job ID: ${result.job_id}`);
```

```bash cURL
curl -X POST "https://prod.visionapi.unsiloed.ai/extract" \
  -H "accept: application/json" \
  -H "api-key: your-api-key" \
  -H "Content-Type: multipart/form-data" \
  -F "pdf_file=@document.pdf" \
  -F 'schema_data={"type":"object","properties":{"title":{"type":"string","description":"Document title"},"date":{"type":"string","description":"Document date"},"author":{"type":"string","description":"Document author"}},"required":["title","date"],"additionalProperties":false}'

# Response: {"job_id": "945b4578-691f-4c74-8184-dde654093b11", "status": "queued"}

# Get results
curl -X GET "https://prod.visionapi.unsiloed.ai/extract/{job_id}" \
  -H "accept: application/json" \
  -H "api-key: your-api-key"
```

</CodeGroup>

### Financial Document Extraction

<CodeGroup>

```python Python
from unsiloed_sdk import UnsiloedClient

# Financial document schema example
financial_schema = {
    "type": "object",
    "properties": {
        "Individuals": {
            "type": "string",
            "description": "Percentage Holding"
        },
        "LIC of India": {
            "type": "string",
            "description": "No of Shares Held"
        },
        "United bank of india": {
            "type": "string",
            "description": "No of shares held by United bank of india"
        }
    },
    "required": [
        "Individuals",
        "LIC of India",
        "United bank of india"
    ],
    "additionalProperties": False
}

with UnsiloedClient(api_key="your-api-key") as client:
    result = client.extract_and_wait(
        file="financial_report.pdf",
        schema=financial_schema
    )

    # Print extracted values with confidence scores
    for field, data in result.result.items():
        if field != 'min_confidence_score':
            print(f"{field}: {data['value']} (confidence: {data['score']:.2%})")
```

```javascript JavaScript
const { UnsiloedClient } = require('unsiloed-sdk');

const client = new UnsiloedClient({ apiKey: 'your-api-key' });

// Financial document schema example
const financialSchema = {
  type: 'object',
  properties: {
    'Individuals': {
      type: 'string',
      description: 'Percentage Holding'
    },
    'LIC of India': {
      type: 'string',
      description: 'No of Shares Held'
    },
    'United bank of india': {
      type: 'string',
      description: 'No of shares held by United bank of india'
    }
  },
  required: [
    'Individuals',
    'LIC of India',
    'United bank of india'
  ],
  additionalProperties: false
};

const result = await client.extract({
  file: 'financial_report.pdf',
  schema: financialSchema
});

const jobId = result.job_id;
```

```typescript TypeScript
import { UnsiloedClient } from 'unsiloed-sdk';

const client = new UnsiloedClient({ apiKey: 'your-api-key' });

// Financial document schema example
const financialSchema = {
  type: 'object',
  properties: {
    'Individuals': {
      type: 'string',
      description: 'Percentage Holding'
    },
    'LIC of India': {
      type: 'string',
      description: 'No of Shares Held'
    },
    'United bank of india': {
      type: 'string',
      description: 'No of shares held by United bank of india'
    }
  },
  required: [
    'Individuals',
    'LIC of India',
    'United bank of india'
  ],
  additionalProperties: false
} as const;

const result = await client.extract({
  file: 'financial_report.pdf',
  schema: financialSchema
});

const jobId = result.job_id;
```

```bash cURL
curl -X POST "https://prod.visionapi.unsiloed.ai/extract" \
  -H "accept: application/json" \
  -H "api-key: your-api-key" \
  -H "Content-Type: multipart/form-data" \
  -F "pdf_file=@financial_report.pdf" \
  -F 'schema_data={"type":"object","properties":{"Individuals":{"type":"string","description":"Percentage Holding"},"LIC of India":{"type":"string","description":"No of Shares Held"},"United bank of india":{"type":"string","description":"No of shares held by United bank of india"}},"required":["Individuals","LIC of India","United bank of india"],"additionalProperties":false}'

# Get results
curl -X GET "https://prod.visionapi.unsiloed.ai/extract/{job_id}" \
  -H "api-key: your-api-key"
```

</CodeGroup>

## Advanced Features

### Asynchronous Processing

For large documents or batch processing, use the async endpoints:

<CodeGroup>

```python Python
from unsiloed_sdk import UnsiloedClient

with UnsiloedClient(api_key="your-api-key") as client:
    # Option 1: Start job and poll manually
    response = client.extract(
        file="document.pdf",
        schema=schema
    )
    job_id = response.job_id
    print(f"Job ID: {job_id}")

    # Check job status later
    result = client.get_extract_result(job_id)
    print(f"Status: {result.status}")

    # Option 2: Let SDK handle polling automatically
    result = client.extract_and_wait(
        file="document.pdf",
        schema=schema,
        poll_interval=5,  # Check every 5 seconds
        max_wait_time=300  # Wait up to 5 minutes
    )
    print("Extraction complete!")
```

```javascript JavaScript
const { UnsiloedClient } = require('unsiloed-sdk');

const client = new UnsiloedClient({ apiKey: 'your-api-key' });

// Start async extraction job
const response = await client.extract({
  file: 'document.pdf',
  schema: schema
});

const jobId = response.job_id;

// Check job status and get results
const resultResponse = await client.getExtractResult(jobId);
console.log(resultResponse);

// Or use extractAndWait to automatically poll until completion
const result = await client.extractAndWait({
  file: 'document.pdf',
  schema: schema,
  pollInterval: 5000,  // Check every 5 seconds
  maxWaitTime: 300000  // Wait up to 5 minutes
});
console.log(result);
```

```typescript TypeScript
import { UnsiloedClient } from 'unsiloed-sdk';

const client = new UnsiloedClient({ apiKey: 'your-api-key' });

// Start async extraction job
const response = await client.extract({
  file: 'document.pdf',
  schema: schema
});

const jobId = response.job_id;

// Check job status and get results
const resultResponse = await client.getExtractResult(jobId);
console.log(resultResponse);

// Or use extractAndWait to automatically poll until completion
const result = await client.extractAndWait({
  file: 'document.pdf',
  schema: schema,
  pollInterval: 5000,  // Check every 5 seconds
  maxWaitTime: 300000  // Wait up to 5 minutes
});
console.log(result);
```

```bash cURL
# Start async extraction job
curl -X POST "https://prod.visionapi.unsiloed.ai/extract" \
  -H "api-key: your-api-key" \
  -F "pdf_file=@document.pdf" \
  -F 'schema_data={"type":"object","properties":{"title":{"type":"string"}},"required":["title"],"additionalProperties":false}'

# Poll for results
curl -X GET "https://prod.visionapi.unsiloed.ai/extract/{job_id}" \
  -H "api-key: your-api-key"
```

</CodeGroup>

### Complex Schema Definition

Define complex schemas for structured extraction:

```json
{
  "type": "object",
  "properties": {
    "document_type": {
      "type": "string",
      "description": "Type of document (invoice, contract, etc.)"
    },
    "header": {
      "type": "object",
      "description": "Document header information",
      "properties": {
        "invoice_number": {
          "type": "string",
          "description": "Invoice number"
        },
        "date": {
          "type": "string",
          "description": "Invoice date"
        },
        "due_date": {
          "type": "string",
          "description": "Payment due date"
        }
      },
      "required": ["invoice_number", "date"],
      "additionalProperties": false
    },
    "vendor": {
      "type": "object",
      "description": "Vendor information",
      "properties": {
        "name": {
          "type": "string",
          "description": "Vendor name"
        },
        "address": {
          "type": "string",
          "description": "Vendor address"
        },
        "contact": {
          "type": "string",
          "description": "Contact information"
        }
      },
      "required": ["name"],
      "additionalProperties": false
    },
    "line_items": {
      "type": "array",
      "description": "Invoice line items",
      "items": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "description": "Item description"
          },
          "quantity": {
            "type": "number",
            "description": "Item quantity"
          },
          "unit_price": {
            "type": "number",
            "description": "Price per unit"
          },
          "total": {
            "type": "number",
            "description": "Line total"
          }
        },
        "required": ["description", "quantity", "unit_price"],
        "additionalProperties": false
      }
    },
    "totals": {
      "type": "object",
      "description": "Invoice totals",
      "properties": {
        "subtotal": {
          "type": "number",
          "description": "Subtotal amount"
        },
        "tax": {
          "type": "number",
          "description": "Tax amount"
        },
        "total": {
          "type": "number",
          "description": "Total amount"
        }
      },
      "required": ["total"],
      "additionalProperties": false
    }
  },
  "required": ["document_type", "header", "totals"],
  "additionalProperties": false
}
```

### Shareholding Pattern Schema

For financial documents with complex shareholding data:

```json
{
  "type": "object",
  "properties": {
    "board of directors": {
      "type": "array",
      "description": "list of names of board of directors",
      "items": {
        "type": "object",
        "required": [
          "names of board of directors"
        ],
        "properties": {
          "names of board of directors": {
            "type": "string",
            "description": "names of all the members of board of directors"
          }
        },
        "additionalProperties": false
      }
    },
    "shareholding pattern": {
      "type": "array",
      "description": "shareholding pattern",
      "items": {
        "type": "object",
        "required": [
          "name of shareholders",
          "number of shares held"
        ],
        "properties": {
          "name of shareholders": {
            "type": "string",
            "description": "name of the shareholders"
          },
          "number of shares held": {
            "type": "string",
            "description": "numbers of shares held by shareholders"
          }
        },
        "additionalProperties": false
      }
    }
  },
  "required": [
    "board of directors",
    "shareholding pattern"
  ],
  "additionalProperties": false
}
```

## Response Format

### Extraction Results Structure

Each extracted field returns an object with detailed metadata:

- `value`: The extracted data matching the schema type
- `score`: Confidence score between 0 and 1
- `bboxes`: Array of bounding box coordinates
- `page_no`: Page number where data was found
- `min_confidence_score`: Overall minimum confidence

### Standard Extraction Response

```json
{
  "Individuals": {
    "score": 0.9998314521743098,
    "value": "10.57",
    "bboxes": [
      {
        "bbox": [
          79,
          381,
          524,
          565
        ]
      }
    ],
    "page_no": 2
  },
  "LIC of India": {
    "score": 0.9999889986487799,
    "value": "1515000",
    "bboxes": [
      {
        "bbox": [
          79,
          381,
          524,
          565
        ]
      }
    ],
    "page_no": 2
  },
  "United bank of india": {
    "score": 0.999984548437705,
    "value": "500000",
    "bboxes": [
      {
        "bbox": [
          79,
          381,
          524,
          565
        ]
      }
    ],
    "page_no": 2
  },
  "min_confidence_score": 0.9998314521743098
}
```

### Bounding Box Information

Bounding boxes provide precise location data:
- Coordinates are in pixels: `[x1, y1, x2, y2]`
- `x1, y1`: Top-left corner
- `x2, y2`: Bottom-right corner
- Page numbers are 1-indexed

## Error Handling

The API provides detailed error information for JSON schema validation:

```json
{
  "error": "Schema validation failed",
  "details": {
    "field": "shareholding pattern",
    "message": "Invalid JSON Schema format - missing required properties"
  },
  "suggestions": [
    "Ensure all objects have 'type' property",
    "Add 'properties' for object types",
    "Include 'items' for array types",
    "Set 'additionalProperties' to false"
  ]
}
```
